verbose = true
dt = 1e-6
steps = 2000
[grids]
    [grid]
        id = meniscus
        [node]
            name = ElasticMetaNode2D
        [/node]
        [material_node]
        [/material_node]
        [material]
            c1 = 3700
            c2 = 1900
            rho = 2400
        [/material]
        [factory]
            name = BINGridFactory
            size = 343, 6, 1
            path_x = x_meniscus.bin
            path_y = y_meniscus.bin
			path_z = z_meniscus.bin
        [/factory]
        [schema]
            #name = DummySchema
		    name = ElasticCurveSchema2DRusanov3
        [/schema]
        [fillers]
            [filler]
                name = RectPeriodFiller
                axis = 0
                side = 0
            [/filler]
            [filler]
                name = RectPeriodFiller
                axis = 0
                side = 1
                sicled = 1 # TODO: проверить. деать ли смещение узла при периодических гран.условиях 
            [/filler]
            # [filler]
            #     name = RectNoReflectFiller
            #     axis = 1
            #     side = 0
            # [/filler]
            [filler]
                name = RectNoReflectFiller
                axis = 1
                side = 1
            [/filler]
        [/fillers]
        [correctors]
            # [corrector]
            #     name = ForceRectElasticBoundary2D
            #     axis = 1
            #     side = 0
            #     save_file = result/vtk/bc_10.vtk
            # [/corrector]
            [corrector]
                name = ForceRectElasticBoundary2D
                axis = 1
                side = 1
                save_file = result/vtk/bc_11.vtk
            [/corrector]
            [corrector]
                name = PointSourceCorrector2D
                index = 5, 3, 0
                axis = 0
                compression = 10000.0
                gauss_w = 2
                [impulse]
                    name = FileInterpolationImpulse
                    [interpolator]
                        name = PiceWiceInterpolator1D
                        file = ../../riker_impulse_new_10000Hz.txt
                    [/interpolator]
                [/impulse]
            [/corrector]
        [/correctors]
    [/grid]
    [grid]
        id = square
        [node]
            name = ElasticMetaNode2D
        [/node]
        [material_node]
        [/material_node]
        [material]
            c1 = 3700.0
            c2 = 1900.0
            rho = 2400.0
        [/material]
        [factory]
            name = RectGridFactory
            # size = 155, 155
            # origin = -3.85, -3.85
            # spacing = 0.05, 0.05
            size = 151, 81
            origin = -0.1, 0.0
            spacing = 0.01, 0.01
        [/factory]
        [schema]
            name = ElasticRectSchema2DRusanov3
        [/schema]
        [fillers]
        [/fillers]
        [correctors]
            # [corrector]
            #     name = PointSourceCorrector2D
            #     # compression = 1.0
            #     # gauss_w = 3  # импульс задан в виде дельта-функции. Т.к. дескретное пространство, то дельта-функция представляется гауссианом. этот параметр говорит на сколько ячеек рахмывается гауссиан
            #     # index = 77, 77, 0
            #     compression = 399.99999999999994
            #     gauss_w = 3
            #     index = 102, 102, 0
            #     axis = 0
            #     [impulse]
            #         name = FileInterpolationImpulse
            #         [interpolator]
            #             name = PiceWiceInterpolator1D
            #             file = ../../riker_impulse.txt
            #         [/interpolator]
            #     [/impulse]
            # [/corrector]
        [/correctors]
    [/grid]
[/grids]
[contacts]
    [contact]
        name = RectGridInterpolationCorrector
        grid1 = meniscus
        grid2 = square
        interpolation_file = "./interpolation_txt/from_meniscus_to_square.txt"
        predictor_flag = false
        corrector_flag = true
        axis = 0
    [/contact]
    [contact]
        name = RectGridInterpolationCorrector
        grid1 = square
        grid2 = meniscus
        interpolation_file = "./interpolation_txt/from_square_to_meniscus.txt"
        predictor_flag = false
        corrector_flag = true
        axis = 0
    [/contact]
[/contacts]
[initials]
[/initials]

[savers]
    [saver]
        name = StructuredVTKSaver
        path = result/vtk/%g_%s.vtk
        order = 1
        save = 50
        params = v
        norms = 1
    [/saver]
[/savers]

